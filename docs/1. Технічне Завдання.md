# Технічні вимоги

## 1. Загальна інформація

Проєкт є SaaS-веб платформою для спрощеного аналізу даних Google Analytics 4 (GA4) для малого бізнесу.  
Система надає користувачу агреговані метрики та автоматично згенерований текстовий аналітичний звіт на основі даних GA4.

Термін реалізації: 7 днів.

## 2. Ціль

- Надати користувачу простий доступ до ключових метрик GA4
- Усунути необхідність ручного аналізу стандартних звітів GA4
- Автоматично формувати зрозумілі текстові інсайти
- Забезпечити коректну та безпечну інтеграцію з Google Analytics API

## 3. Функціональність

- Авторизація користувача через Google OAuth 2.0
- Отримання доступу до однієї GA4 property
- Отримання аналітичних даних через Google Analytics 4 Data API
- Аналіз даних за період останні 7 днів або останні 30 днів
- Агрегація даних на бекенді
- Генерація AI-текстового аналітичного звіту
- Відображення результатів на одній сторінці дашборду

## 4. Функціональні вимоги

### 4.1 Авторизація та користувачі

- Система повинна підтримувати авторизацію виключно через Google OAuth 2.0
- Один Google-акаунт відповідає одному користувачу системи
- Повторна авторизація не вимагає повторного надання доступу до GA4
- Користувач ідентифікується за `google_user_id`

### 4.2 Інтеграція з Google Analytics 4

- Система повинна використовувати офіційні API Google:
  - Google Analytics Admin API
  - Google Analytics Data API
- Дані GA4 повинні запитуватись виключно з бекенду
- Frontend не має прямого доступу до GA4 API

### 4.3 Метрики

Система повинна отримувати та обробляти наступні метрики:

- Кількість користувачів (Users)
- Кількість сесій (Sessions)
- Кількість подій (Event Count)
- Конверсії (Conversions)
- Середній час залученості (Engagement Time)
- Джерела трафіку (Traffic Source)

### 4.4 Аналітична обробка

- Дані повинні агрегуватись на бекенді
- Повинно виконуватись порівняння з попереднім аналогічним періодом (за можливості)
- Результат агрегації повинен мати структурований формат

### 4.5 AI-аналіз

- AI-модуль отримує лише агреговані та структуровані дані
- AI генерує:
  - текстовий аналітичний висновок
  - короткі пояснення змін
  - базові рекомендації
- AI не має прямого доступу до GA4 API

### 4.6 Інтерфейс користувача

- Веб-застосунок має мати два основні екрани: лендінг - для пояснення, що за проєкт і нащо, де є кнопка для авторизації через Google, та основний екран dashboard
- Dashboard повинен відображати:
  - ключові метрики у вигляді простих графіків та цифр
  - AI-текстовий звіт

## 5. Нефункціональні вимоги

- Google `access_token` та `refresh_token` не повинні передаватись на frontend
- Усі запити до GA4 виконуються тільки з бекенду
- Сесія користувача між frontend-backend реалізується через HTTP-only cookies
